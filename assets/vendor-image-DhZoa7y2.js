function ct(_,I){return I.forEach((function(O){O&&typeof O!="string"&&!Array.isArray(O)&&Object.keys(O).forEach((function(c){if(c!=="default"&&!(c in _)){var e=Object.getOwnPropertyDescriptor(O,c);Object.defineProperty(_,c,e.get?e:{enumerable:!0,get:function(){return O[c]}})}}))})),Object.freeze(_)}function Xe(_,I){return new Promise((function(O,c){let e;return ut(_).then((function(t){try{return e=t,O(new Blob([I.slice(0,2),e,I.slice(2)],{type:"image/jpeg"}))}catch(h){return c(h)}}),c)}))}const ut=_=>new Promise(((I,O)=>{const c=new FileReader;c.addEventListener("load",(({target:{result:e}})=>{const t=new DataView(e);let h=0;if(t.getUint16(h)!==65496)return O("not a valid JPEG");for(h+=2;;){const f=t.getUint16(h);if(f===65498)break;const g=t.getUint16(h+2);if(f===65505&&t.getUint32(h+4)===1165519206){const A=h+10;let r;switch(t.getUint16(A)){case 18761:r=!0;break;case 19789:r=!1;break;default:return O("TIFF header contains invalid endian")}if(t.getUint16(A+2,r)!==42)return O("TIFF header contains invalid version");const i=t.getUint32(A+4,r),n=A+i+2+12*t.getUint16(A+i,r);for(let a=A+i+2;a<n;a+=12)if(t.getUint16(a,r)==274){if(t.getUint16(a+2,r)!==3)return O("Orientation data type is invalid");if(t.getUint32(a+4,r)!==1)return O("Orientation data count is invalid");t.setUint16(a+8,1,r);break}return I(e.slice(h,h+2+g))}h+=2+g}return I(new Blob)})),c.readAsArrayBuffer(_)}));var Pe={},ht={get exports(){return Pe},set exports(_){Pe=_}};(function(_){var I,O,c={};ht.exports=c,c.parse=function(e,t){for(var h=c.bin.readUshort,f=c.bin.readUint,g=0,A={},r=new Uint8Array(e),i=r.length-4;f(r,i)!=101010256;)i--;g=i,g+=4;var n=h(r,g+=4);h(r,g+=2);var a=f(r,g+=2),d=f(r,g+=4);g+=4,g=d;for(var U=0;U<n;U++){f(r,g),g+=4,g+=4,g+=4,f(r,g+=4),a=f(r,g+=4);var C=f(r,g+=4),w=h(r,g+=4),D=h(r,g+2),T=h(r,g+4);g+=6;var x=f(r,g+=8);g+=4,g+=w+D+T,c._readLocal(r,x,A,a,C,t)}return A},c._readLocal=function(e,t,h,f,g,A){var r=c.bin.readUshort,i=c.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var a=r(e,t+=8),d=r(e,t+=2);t+=2;var U=c.bin.readUTF8(e,t,a);if(t+=a,t+=d,A)h[U]={size:g,csize:f};else{var C=new Uint8Array(e.buffer,t);if(n==0)h[U]=new Uint8Array(C.buffer.slice(t,t+f));else{if(n!=8)throw"unknown compression method: "+n;var w=new Uint8Array(g);c.inflateRaw(C,w),h[U]=w}}},c.inflateRaw=function(e,t){return c.F.inflate(e,t)},c.inflate=function(e,t){return e[0],e[1],c.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},c.deflate=function(e,t){t==null&&(t={level:6});var h=0,f=new Uint8Array(50+Math.floor(1.1*e.length));f[h]=120,f[h+1]=156,h+=2,h=c.F.deflateRaw(e,f,h,t.level);var g=c.adler(e,0,e.length);return f[h+0]=g>>>24&255,f[h+1]=g>>>16&255,f[h+2]=g>>>8&255,f[h+3]=g>>>0&255,new Uint8Array(f.buffer,0,h+4)},c.deflateRaw=function(e,t){t==null&&(t={level:6});var h=new Uint8Array(50+Math.floor(1.1*e.length)),f=c.F.deflateRaw(e,h,f,t.level);return new Uint8Array(h.buffer,0,f)},c.encode=function(e,t){t==null&&(t=!1);var h=0,f=c.bin.writeUint,g=c.bin.writeUshort,A={};for(var r in e){var i=!c._noNeed(r)&&!t,n=e[r],a=c.crc.crc(n,0,n.length);A[r]={cpr:i,usize:n.length,crc:a,file:i?c.deflateRaw(n):n}}for(var r in A)h+=A[r].file.length+30+46+2*c.bin.sizeUTF8(r);h+=22;var d=new Uint8Array(h),U=0,C=[];for(var r in A){var w=A[r];C.push(U),U=c._writeHeader(d,U,r,w,0)}var D=0,T=U;for(var r in A)w=A[r],C.push(U),U=c._writeHeader(d,U,r,w,1,C[D++]);var x=U-T;return f(d,U,101010256),U+=4,g(d,U+=4,D),g(d,U+=2,D),f(d,U+=2,x),f(d,U+=4,T),U+=4,U+=2,d.buffer},c._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},c._writeHeader=function(e,t,h,f,g,A){var r=c.bin.writeUint,i=c.bin.writeUshort,n=f.file;return r(e,t,g==0?67324752:33639248),t+=4,g==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,f.cpr?8:0),r(e,t+=2,0),r(e,t+=4,f.crc),r(e,t+=4,n.length),r(e,t+=4,f.usize),i(e,t+=4,c.bin.sizeUTF8(h)),i(e,t+=2,0),t+=2,g==1&&(t+=2,t+=2,r(e,t+=6,A),t+=4),t+=c.bin.writeUTF8(e,t,h),g==0&&(e.set(n,t),t+=n.length),t},c.crc={table:(function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var h=t,f=0;f<8;f++)1&h?h=3988292384^h>>>1:h>>>=1;e[t]=h}return e})(),update:function(e,t,h,f){for(var g=0;g<f;g++)e=c.crc.table[255&(e^t[h+g])]^e>>>8;return e},crc:function(e,t,h){return 4294967295^c.crc.update(4294967295,e,t,h)}},c.adler=function(e,t,h){for(var f=1,g=0,A=t,r=t+h;A<r;){for(var i=Math.min(A+5552,r);A<i;)g+=f+=e[A++];f%=65521,g%=65521}return g<<16|f},c.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,h){e[t]=255&h,e[t+1]=h>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,h){e[t]=255&h,e[t+1]=h>>8&255,e[t+2]=h>>16&255,e[t+3]=h>>24&255},readASCII:function(e,t,h){for(var f="",g=0;g<h;g++)f+=String.fromCharCode(e[t+g]);return f},writeASCII:function(e,t,h){for(var f=0;f<h.length;f++)e[t+f]=h.charCodeAt(f)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,h){for(var f,g="",A=0;A<h;A++)g+="%"+c.bin.pad(e[t+A].toString(16));try{f=decodeURIComponent(g)}catch{return c.bin.readASCII(e,t,h)}return f},writeUTF8:function(e,t,h){for(var f=h.length,g=0,A=0;A<f;A++){var r=h.charCodeAt(A);if((4294967168&r)==0)e[t+g]=r,g++;else if((4294965248&r)==0)e[t+g]=192|r>>6,e[t+g+1]=128|r>>0&63,g+=2;else if((4294901760&r)==0)e[t+g]=224|r>>12,e[t+g+1]=128|r>>6&63,e[t+g+2]=128|r>>0&63,g+=3;else{if((4292870144&r)!=0)throw"e";e[t+g]=240|r>>18,e[t+g+1]=128|r>>12&63,e[t+g+2]=128|r>>6&63,e[t+g+3]=128|r>>0&63,g+=4}}return g},sizeUTF8:function(e){for(var t=e.length,h=0,f=0;f<t;f++){var g=e.charCodeAt(f);if((4294967168&g)==0)h++;else if((4294965248&g)==0)h+=2;else if((4294901760&g)==0)h+=3;else{if((4292870144&g)!=0)throw"e";h+=4}}return h}},c.F={},c.F.deflateRaw=function(e,t,h,f){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][f],A=c.F.U,r=c.F._goodIndex;c.F._hash;var i=c.F._putsE,n=0,a=h<<3,d=0,U=e.length;if(f==0){for(;n<U;)i(t,a,n+(y=Math.min(65535,U-n))==U?1:0),a=c.F._copyExact(e,n,y,t,a+8),n+=y;return a>>>3}var C=A.lits,w=A.strt,D=A.prev,T=0,x=0,H=0,p=0,S=0,l=0;for(U>2&&(w[l=c.F._hash(e,0)]=0),n=0;n<U;n++){if(S=l,n+1<U-2){l=c.F._hash(e,n+1);var s=n+1&32767;D[s]=w[l],w[l]=s}if(d<=n){(T>14e3||x>26697)&&U-n>100&&(d<n&&(C[T]=n-d,T+=2,d=n),a=c.F._writeBlock(n==U-1||d==U?1:0,C,T,p,e,H,n-H,t,a),T=x=p=0,H=n);var b=0;n<U-2&&(b=c.F._bestMatch(e,n,D,S,Math.min(g[2],U-n),g[3]));var y=b>>>16,m=65535&b;if(b!=0){m=65535&b;var M=r(y=b>>>16,A.of0);A.lhst[257+M]++;var v=r(m,A.df0);A.dhst[v]++,p+=A.exb[M]+A.dxb[v],C[T]=y<<23|n-d,C[T+1]=m<<16|M<<8|v,T+=2,d=n+y}else A.lhst[e[n]]++;x++}}for(H==n&&e.length!=0||(d<n&&(C[T]=n-d,T+=2,d=n),a=c.F._writeBlock(1,C,T,p,e,H,n-H,t,a),T=0,x=0,T=x=p=0,H=n);(7&a)!=0;)a++;return a>>>3},c.F._bestMatch=function(e,t,h,f,g,A){var r=32767&t,i=h[r],n=r-i+32768&32767;if(i==r||f!=c.F._hash(e,t-n))return 0;for(var a=0,d=0,U=Math.min(32767,t);n<=U&&--A!=0&&i!=r;){if(a==0||e[t+a]==e[t+a-n]){var C=c.F._howLong(e,t,n);if(C>a){if(d=n,(a=C)>=g)break;n+2<C&&(C=n+2);for(var w=0,D=0;D<C-2;D++){var T=t-n+D+32768&32767,x=T-h[T]+32768&32767;x>w&&(w=x,i=T)}}}n+=(r=i)-(i=h[r])+32768&32767}return a<<16|d},c.F._howLong=function(e,t,h){if(e[t]!=e[t-h]||e[t+1]!=e[t+1-h]||e[t+2]!=e[t+2-h])return 0;var f=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-h];)t++;return t-f},c.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},c.saved=0,c.F._writeBlock=function(e,t,h,f,g,A,r,i,n){var a,d,U,C,w,D,T,x,H,p=c.F.U,S=c.F._putsF,l=c.F._putsE;p.lhst[256]++,d=(a=c.F.getTrees())[0],U=a[1],C=a[2],w=a[3],D=a[4],T=a[5],x=a[6],H=a[7];var s=32+((n+3&7)==0?0:8-(n+3&7))+(r<<3),b=f+c.F.contSize(p.fltree,p.lhst)+c.F.contSize(p.fdtree,p.dhst),y=f+c.F.contSize(p.ltree,p.lhst)+c.F.contSize(p.dtree,p.dhst);y+=14+3*T+c.F.contSize(p.itree,p.ihst)+(2*p.ihst[16]+3*p.ihst[17]+7*p.ihst[18]);for(var m=0;m<286;m++)p.lhst[m]=0;for(m=0;m<30;m++)p.dhst[m]=0;for(m=0;m<19;m++)p.ihst[m]=0;var M=s<b&&s<y?0:b<y?1:2;if(S(i,n,e),S(i,n+1,M),n+=3,M==0){for(;(7&n)!=0;)n++;n=c.F._copyExact(g,A,r,i,n)}else{var v,F;if(M==1&&(v=p.fltree,F=p.fdtree),M==2){c.F.makeCodes(p.ltree,d),c.F.revCodes(p.ltree,d),c.F.makeCodes(p.dtree,U),c.F.revCodes(p.dtree,U),c.F.makeCodes(p.itree,C),c.F.revCodes(p.itree,C),v=p.ltree,F=p.dtree,l(i,n,w-257),l(i,n+=5,D-1),l(i,n+=5,T-4),n+=4;for(var u=0;u<T;u++)l(i,n+3*u,p.itree[1+(p.ordr[u]<<1)]);n+=3*T,n=c.F._codeTiny(x,p.itree,i,n),n=c.F._codeTiny(H,p.itree,i,n)}for(var o=A,P=0;P<h;P+=2){for(var E=t[P],k=E>>>23,B=o+(8388607&E);o<B;)n=c.F._writeLit(g[o++],v,i,n);if(k!=0){var z=t[P+1],Q=z>>16,L=z>>8&255,R=255&z;l(i,n=c.F._writeLit(257+L,v,i,n),k-p.of0[L]),n+=p.exb[L],S(i,n=c.F._writeLit(R,F,i,n),Q-p.df0[R]),n+=p.dxb[R],o+=k}}n=c.F._writeLit(256,v,i,n)}return n},c.F._copyExact=function(e,t,h,f,g){var A=g>>>3;return f[A]=h,f[A+1]=h>>>8,f[A+2]=255-f[A],f[A+3]=255-f[A+1],A+=4,f.set(new Uint8Array(e.buffer,t,h),A),g+(h+4<<3)},c.F.getTrees=function(){for(var e=c.F.U,t=c.F._hufTree(e.lhst,e.ltree,15),h=c.F._hufTree(e.dhst,e.dtree,15),f=[],g=c.F._lenCodes(e.ltree,f),A=[],r=c.F._lenCodes(e.dtree,A),i=0;i<f.length;i+=2)e.ihst[f[i]]++;for(i=0;i<A.length;i+=2)e.ihst[A[i]]++;for(var n=c.F._hufTree(e.ihst,e.itree,7),a=19;a>4&&e.itree[1+(e.ordr[a-1]<<1)]==0;)a--;return[t,h,n,g,r,a,f,A]},c.F.getSecond=function(e){for(var t=[],h=0;h<e.length;h+=2)t.push(e[h+1]);return t},c.F.nonZero=function(e){for(var t="",h=0;h<e.length;h+=2)e[h+1]!=0&&(t+=(h>>1)+",");return t},c.F.contSize=function(e,t){for(var h=0,f=0;f<t.length;f++)h+=t[f]*e[1+(f<<1)];return h},c.F._codeTiny=function(e,t,h,f){for(var g=0;g<e.length;g+=2){var A=e[g],r=e[g+1];f=c.F._writeLit(A,t,h,f);var i=A==16?2:A==17?3:7;A>15&&(c.F._putsE(h,f,r,i),f+=i)}return f},c.F._lenCodes=function(e,t){for(var h=e.length;h!=2&&e[h-1]==0;)h-=2;for(var f=0;f<h;f+=2){var g=e[f+1],A=f+3<h?e[f+3]:-1,r=f+5<h?e[f+5]:-1,i=f==0?-1:e[f-1];if(g==0&&A==g&&r==g){for(var n=f+5;n+2<h&&e[n+2]==g;)n+=2;(a=Math.min(n+1-f>>>1,138))<11?t.push(17,a-3):t.push(18,a-11),f+=2*a-2}else if(g==i&&A==g&&r==g){for(n=f+5;n+2<h&&e[n+2]==g;)n+=2;var a=Math.min(n+1-f>>>1,6);t.push(16,a-3),f+=2*a-2}else t.push(g,0)}return h>>>1},c.F._hufTree=function(e,t,h){var f=[],g=e.length,A=t.length,r=0;for(r=0;r<A;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<g;r++)e[r]!=0&&f.push({lit:r,f:e[r]});var i=f.length,n=f.slice(0);if(i==0)return 0;if(i==1){var a=f[0].lit;return n=a==0?1:0,t[1+(a<<1)]=1,t[1+(n<<1)]=1,1}f.sort((function(x,H){return x.f-H.f}));var d=f[0],U=f[1],C=0,w=1,D=2;for(f[0]={lit:-1,f:d.f+U.f,l:d,r:U,d:0};w!=i-1;)d=C!=w&&(D==i||f[C].f<f[D].f)?f[C++]:f[D++],U=C!=w&&(D==i||f[C].f<f[D].f)?f[C++]:f[D++],f[w++]={lit:-1,f:d.f+U.f,l:d,r:U};var T=c.F.setDepth(f[w-1],0);for(T>h&&(c.F.restrictDepth(n,h,T),T=h),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return T},c.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(c.F.setDepth(e.l,t+1),c.F.setDepth(e.r,t+1))},c.F.restrictDepth=function(e,t,h){var f=0,g=1<<h-t,A=0;for(e.sort((function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d})),f=0;f<e.length&&e[f].d>t;f++){var r=e[f].d;e[f].d=t,A+=g-(1<<h-r)}for(A>>>=h-t;A>0;)(r=e[f].d)<t?(e[f].d++,A-=1<<t-r-1):f++;for(;f>=0;f--)e[f].d==t&&A<0&&(e[f].d--,A++);A!=0&&console.log("debt left")},c.F._goodIndex=function(e,t){var h=0;return t[16|h]<=e&&(h|=16),t[8|h]<=e&&(h|=8),t[4|h]<=e&&(h|=4),t[2|h]<=e&&(h|=2),t[1|h]<=e&&(h|=1),h},c.F._writeLit=function(e,t,h,f){return c.F._putsF(h,f,t[e<<1]),f+t[1+(e<<1)]},c.F.inflate=function(e,t){var h=Uint8Array;if(e[0]==3&&e[1]==0)return t||new h(0);var f=c.F,g=f._bitsF,A=f._bitsE,r=f._decodeTiny,i=f.makeCodes,n=f.codes2map,a=f._get17,d=f.U,U=t==null;U&&(t=new h(e.length>>>2<<3));for(var C,w,D=0,T=0,x=0,H=0,p=0,S=0,l=0,s=0,b=0;D==0;)if(D=g(e,b,1),T=g(e,b+1,2),b+=3,T!=0){if(U&&(t=c.F._check(t,s+(1<<17))),T==1&&(C=d.flmap,w=d.fdmap,S=511,l=31),T==2){x=A(e,b,5)+257,H=A(e,b+5,5)+1,p=A(e,b+10,4)+4,b+=14;for(var y=0;y<38;y+=2)d.itree[y]=0,d.itree[y+1]=0;var m=1;for(y=0;y<p;y++){var M=A(e,b+3*y,3);d.itree[1+(d.ordr[y]<<1)]=M,M>m&&(m=M)}b+=3*p,i(d.itree,m),n(d.itree,m,d.imap),C=d.lmap,w=d.dmap,b=r(d.imap,(1<<m)-1,x+H,e,b,d.ttree);var v=f._copyOut(d.ttree,0,x,d.ltree);S=(1<<v)-1;var F=f._copyOut(d.ttree,x,H,d.dtree);l=(1<<F)-1,i(d.ltree,v),n(d.ltree,v,C),i(d.dtree,F),n(d.dtree,F,w)}for(;;){var u=C[a(e,b)&S];b+=15&u;var o=u>>>4;if(!(o>>>8))t[s++]=o;else{if(o==256)break;var P=s+o-254;if(o>264){var E=d.ldef[o-257];P=s+(E>>>3)+A(e,b,7&E),b+=7&E}var k=w[a(e,b)&l];b+=15&k;var B=k>>>4,z=d.ddef[B],Q=(z>>>4)+g(e,b,15&z);for(b+=15&z,U&&(t=c.F._check(t,s+(1<<17)));s<P;)t[s]=t[s++-Q],t[s]=t[s++-Q],t[s]=t[s++-Q],t[s]=t[s++-Q];s=P}}}else{(7&b)!=0&&(b+=8-(7&b));var L=4+(b>>>3),R=e[L-4]|e[L-3]<<8;U&&(t=c.F._check(t,s+R)),t.set(new h(e.buffer,e.byteOffset+L,R),s),b=L+R<<3,s+=R}return t.length==s?t:t.slice(0,s)},c.F._check=function(e,t){var h=e.length;if(t<=h)return e;var f=new Uint8Array(Math.max(h<<1,t));return f.set(e,0),f},c.F._decodeTiny=function(e,t,h,f,g,A){for(var r=c.F._bitsE,i=c.F._get17,n=0;n<h;){var a=e[i(f,g)&t];g+=15&a;var d=a>>>4;if(d<=15)A[n]=d,n++;else{var U=0,C=0;d==16?(C=3+r(f,g,2),g+=2,U=A[n-1]):d==17?(C=3+r(f,g,3),g+=3):d==18&&(C=11+r(f,g,7),g+=7);for(var w=n+C;n<w;)A[n]=U,n++}}return g},c.F._copyOut=function(e,t,h,f){for(var g=0,A=0,r=f.length>>>1;A<h;){var i=e[A+t];f[A<<1]=0,f[1+(A<<1)]=i,i>g&&(g=i),A++}for(;A<r;)f[A<<1]=0,f[1+(A<<1)]=0,A++;return g},c.F.makeCodes=function(e,t){for(var h,f,g,A,r=c.F.U,i=e.length,n=r.bl_count,a=0;a<=t;a++)n[a]=0;for(a=1;a<i;a+=2)n[e[a]]++;var d=r.next_code;for(h=0,n[0]=0,f=1;f<=t;f++)h=h+n[f-1]<<1,d[f]=h;for(g=0;g<i;g+=2)(A=e[g+1])!=0&&(e[g]=d[A],d[A]++)},c.F.codes2map=function(e,t,h){for(var f=e.length,g=c.F.U.rev15,A=0;A<f;A+=2)if(e[A+1]!=0)for(var r=A>>1,i=e[A+1],n=r<<4|i,a=t-i,d=e[A]<<a,U=d+(1<<a);d!=U;)h[g[d]>>>15-t]=n,d++},c.F.revCodes=function(e,t){for(var h=c.F.U.rev15,f=15-t,g=0;g<e.length;g+=2){var A=e[g]<<t-e[g+1];e[g]=h[A]>>>f}},c.F._putsE=function(e,t,h){h<<=7&t;var f=t>>>3;e[f]|=h,e[f+1]|=h>>>8},c.F._putsF=function(e,t,h){h<<=7&t;var f=t>>>3;e[f]|=h,e[f+1]|=h>>>8,e[f+2]|=h>>>16},c.F._bitsE=function(e,t,h){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<h)-1},c.F._bitsF=function(e,t,h){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<h)-1},c.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},c.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},c.F.U=(I=Uint16Array,O=Uint32Array,{next_code:new I(16),bl_count:new I(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new I(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new O(32),flmap:new I(512),fltree:[],fdmap:new I(32),fdtree:[],lmap:new I(32768),ltree:[],ttree:[],dmap:new I(32768),dtree:[],imap:new I(512),itree:[],rev15:new I(32768),lhst:new O(286),dhst:new O(30),ihst:new O(19),lits:new O(15e3),strt:new I(65536),prev:new I(32768)}),(function(){for(var e=c.F.U,t=0;t<32768;t++){var h=t;h=(4278255360&(h=(4042322160&(h=(3435973836&(h=(2863311530&h)>>>1|(1431655765&h)<<1))>>>2|(858993459&h)<<2))>>>4|(252645135&h)<<4))>>>8|(16711935&h)<<8,e.rev15[t]=(h>>>16|h<<16)>>>17}function f(g,A,r){for(;A--!=0;)g.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];f(e.fltree,144,8),f(e.fltree,112,9),f(e.fltree,24,7),f(e.fltree,8,8),c.F.makeCodes(e.fltree,9),c.F.codes2map(e.fltree,9,e.flmap),c.F.revCodes(e.fltree,9),f(e.fdtree,32,5),c.F.makeCodes(e.fdtree,5),c.F.codes2map(e.fdtree,5,e.fdmap),c.F.revCodes(e.fdtree,5),f(e.itree,19,0),f(e.ltree,286,0),f(e.dtree,30,0),f(e.ttree,320,0)})()})();var dt=ct({__proto__:null,default:Pe},[Pe]);const he=(function(){var _={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let a="";for(let d=0;d<n;d++)a+=String.fromCharCode(r[i+d]);return a},writeASCII(r,i,n){for(let a=0;a<n.length;a++)r[i+a]=n.charCodeAt(a)},readBytes(r,i,n){const a=[];for(let d=0;d<n;d++)a.push(r[i+d]);return a},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let a,d="";for(let U=0;U<n;U++)d+=`%${_.pad(r[i+U].toString(16))}`;try{a=decodeURIComponent(d)}catch{return _.readASCII(r,i,n)}return a}};function I(r,i,n,a){const d=i*n,U=t(a),C=Math.ceil(i*U/8),w=new Uint8Array(4*d),D=new Uint32Array(w.buffer),{ctype:T}=a,{depth:x}=a,H=_.readUshort;if(T==6){const E=d<<2;if(x==8)for(var p=0;p<E;p+=4)w[p]=r[p],w[p+1]=r[p+1],w[p+2]=r[p+2],w[p+3]=r[p+3];if(x==16)for(p=0;p<E;p++)w[p]=r[p<<1]}else if(T==2){const E=a.tabs.tRNS;if(E==null){if(x==8)for(p=0;p<d;p++){var S=3*p;D[p]=255<<24|r[S+2]<<16|r[S+1]<<8|r[S]}if(x==16)for(p=0;p<d;p++)S=6*p,D[p]=255<<24|r[S+4]<<16|r[S+2]<<8|r[S]}else{var l=E[0];const k=E[1],B=E[2];if(x==8)for(p=0;p<d;p++){var s=p<<2;S=3*p,D[p]=255<<24|r[S+2]<<16|r[S+1]<<8|r[S],r[S]==l&&r[S+1]==k&&r[S+2]==B&&(w[s+3]=0)}if(x==16)for(p=0;p<d;p++)s=p<<2,S=6*p,D[p]=255<<24|r[S+4]<<16|r[S+2]<<8|r[S],H(r,S)==l&&H(r,S+2)==k&&H(r,S+4)==B&&(w[s+3]=0)}}else if(T==3){const E=a.tabs.PLTE,k=a.tabs.tRNS,B=k?k.length:0;if(x==1)for(var b=0;b<n;b++){var y=b*C,m=b*i;for(p=0;p<i;p++){s=m+p<<2;var M=3*(v=r[y+(p>>3)]>>7-((7&p)<<0)&1);w[s]=E[M],w[s+1]=E[M+1],w[s+2]=E[M+2],w[s+3]=v<B?k[v]:255}}if(x==2)for(b=0;b<n;b++)for(y=b*C,m=b*i,p=0;p<i;p++)s=m+p<<2,M=3*(v=r[y+(p>>2)]>>6-((3&p)<<1)&3),w[s]=E[M],w[s+1]=E[M+1],w[s+2]=E[M+2],w[s+3]=v<B?k[v]:255;if(x==4)for(b=0;b<n;b++)for(y=b*C,m=b*i,p=0;p<i;p++)s=m+p<<2,M=3*(v=r[y+(p>>1)]>>4-((1&p)<<2)&15),w[s]=E[M],w[s+1]=E[M+1],w[s+2]=E[M+2],w[s+3]=v<B?k[v]:255;if(x==8)for(p=0;p<d;p++){var v;s=p<<2,M=3*(v=r[p]),w[s]=E[M],w[s+1]=E[M+1],w[s+2]=E[M+2],w[s+3]=v<B?k[v]:255}}else if(T==4){if(x==8)for(p=0;p<d;p++){s=p<<2;var F=r[u=p<<1];w[s]=F,w[s+1]=F,w[s+2]=F,w[s+3]=r[u+1]}if(x==16)for(p=0;p<d;p++){var u;s=p<<2,F=r[u=p<<2],w[s]=F,w[s+1]=F,w[s+2]=F,w[s+3]=r[u+2]}}else if(T==0)for(l=a.tabs.tRNS?a.tabs.tRNS:-1,b=0;b<n;b++){const E=b*C,k=b*i;if(x==1)for(var o=0;o<i;o++){var P=(F=255*(r[E+(o>>>3)]>>>7-(7&o)&1))==255*l?0:255;D[k+o]=P<<24|F<<16|F<<8|F}else if(x==2)for(o=0;o<i;o++)P=(F=85*(r[E+(o>>>2)]>>>6-((3&o)<<1)&3))==85*l?0:255,D[k+o]=P<<24|F<<16|F<<8|F;else if(x==4)for(o=0;o<i;o++)P=(F=17*(r[E+(o>>>1)]>>>4-((1&o)<<2)&15))==17*l?0:255,D[k+o]=P<<24|F<<16|F<<8|F;else if(x==8)for(o=0;o<i;o++)P=(F=r[E+o])==l?0:255,D[k+o]=P<<24|F<<16|F<<8|F;else if(x==16)for(o=0;o<i;o++)F=r[E+(o<<1)],P=H(r,E+(o<<1))==l?0:255,D[k+o]=P<<24|F<<16|F<<8|F}return w}function O(r,i,n,a){const d=t(r),U=Math.ceil(n*d/8),C=new Uint8Array((U+1+r.interlace)*a);return i=r.tabs.CgBI?e(i,C):c(i,C),r.interlace==0?i=h(i,r,0,n,a):r.interlace==1&&(i=(function(D,T){const x=T.width,H=T.height,p=t(T),S=p>>3,l=Math.ceil(x*p/8),s=new Uint8Array(H*l);let b=0;const y=[0,0,4,0,2,0,1],m=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const o=M[F],P=v[F];let E=0,k=0,B=y[F];for(;B<H;)B+=o,k++;let z=m[F];for(;z<x;)z+=P,E++;const Q=Math.ceil(E*p/8);h(D,T,b,E,k);let L=0,R=y[F];for(;R<H;){let N=m[F],K=b+L*Q<<3;for(;N<x;){var u;if(p==1&&(u=(u=D[K>>3])>>7-(7&K)&1,s[R*l+(N>>3)]|=u<<7-((7&N)<<0)),p==2&&(u=(u=D[K>>3])>>6-(7&K)&3,s[R*l+(N>>2)]|=u<<6-((3&N)<<1)),p==4&&(u=(u=D[K>>3])>>4-(7&K)&15,s[R*l+(N>>1)]|=u<<4-((1&N)<<2)),p>=8){const j=R*l+N*S;for(let W=0;W<S;W++)s[j+W]=D[(K>>3)+W]}K+=p,N+=P}L++,R+=o}E*k!=0&&(b+=k*(1+Q)),F+=1}return s})(i,r)),i}function c(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=(function(){const r={H:{}};return r.H.N=function(i,n){const a=Uint8Array;let d,U,C=0,w=0,D=0,T=0,x=0,H=0,p=0,S=0,l=0;if(i[0]==3&&i[1]==0)return n||new a(0);const s=r.H,b=s.b,y=s.e,m=s.R,M=s.n,v=s.A,F=s.Z,u=s.m,o=n==null;for(o&&(n=new a(i.length>>>2<<5));C==0;)if(C=b(i,l,1),w=b(i,l+1,2),l+=3,w!=0){if(o&&(n=r.H.W(n,S+(1<<17))),w==1&&(d=u.J,U=u.h,H=511,p=31),w==2){D=y(i,l,5)+257,T=y(i,l+5,5)+1,x=y(i,l+10,4)+4,l+=14;let E=1;for(var P=0;P<38;P+=2)u.Q[P]=0,u.Q[P+1]=0;for(P=0;P<x;P++){const z=y(i,l+3*P,3);u.Q[1+(u.X[P]<<1)]=z,z>E&&(E=z)}l+=3*x,M(u.Q,E),v(u.Q,E,u.u),d=u.w,U=u.d,l=m(u.u,(1<<E)-1,D+T,i,l,u.v);const k=s.V(u.v,0,D,u.C);H=(1<<k)-1;const B=s.V(u.v,D,T,u.D);p=(1<<B)-1,M(u.C,k),v(u.C,k,d),M(u.D,B),v(u.D,B,U)}for(;;){const E=d[F(i,l)&H];l+=15&E;const k=E>>>4;if(!(k>>>8))n[S++]=k;else{if(k==256)break;{let B=S+k-254;if(k>264){const N=u.q[k-257];B=S+(N>>>3)+y(i,l,7&N),l+=7&N}const z=U[F(i,l)&p];l+=15&z;const Q=z>>>4,L=u.c[Q],R=(L>>>4)+b(i,l,15&L);for(l+=15&L;S<B;)n[S]=n[S++-R],n[S]=n[S++-R],n[S]=n[S++-R],n[S]=n[S++-R];S=B}}}}else{(7&l)!=0&&(l+=8-(7&l));const E=4+(l>>>3),k=i[E-4]|i[E-3]<<8;o&&(n=r.H.W(n,S+k)),n.set(new a(i.buffer,i.byteOffset+E,k),S),l=E+k<<3,S+=k}return n.length==S?n:n.slice(0,S)},r.H.W=function(i,n){const a=i.length;if(n<=a)return i;const d=new Uint8Array(a<<1);return d.set(i,0),d},r.H.R=function(i,n,a,d,U,C){const w=r.H.e,D=r.H.Z;let T=0;for(;T<a;){const x=i[D(d,U)&n];U+=15&x;const H=x>>>4;if(H<=15)C[T]=H,T++;else{let p=0,S=0;H==16?(S=3+w(d,U,2),U+=2,p=C[T-1]):H==17?(S=3+w(d,U,3),U+=3):H==18&&(S=11+w(d,U,7),U+=7);const l=T+S;for(;T<l;)C[T]=p,T++}}return U},r.H.V=function(i,n,a,d){let U=0,C=0;const w=d.length>>>1;for(;C<a;){const D=i[C+n];d[C<<1]=0,d[1+(C<<1)]=D,D>U&&(U=D),C++}for(;C<w;)d[C<<1]=0,d[1+(C<<1)]=0,C++;return U},r.H.n=function(i,n){const a=r.H.m,d=i.length;let U,C,w,D;const T=a.j;for(var x=0;x<=n;x++)T[x]=0;for(x=1;x<d;x+=2)T[i[x]]++;const H=a.K;for(U=0,T[0]=0,C=1;C<=n;C++)U=U+T[C-1]<<1,H[C]=U;for(w=0;w<d;w+=2)D=i[w+1],D!=0&&(i[w]=H[D],H[D]++)},r.H.A=function(i,n,a){const d=i.length,U=r.H.m.r;for(let C=0;C<d;C+=2)if(i[C+1]!=0){const w=C>>1,D=i[C+1],T=w<<4|D,x=n-D;let H=i[C]<<x;const p=H+(1<<x);for(;H!=p;)a[U[H]>>>15-n]=T,H++}},r.H.l=function(i,n){const a=r.H.m.r,d=15-n;for(let U=0;U<i.length;U+=2){const C=i[U]<<n-i[U+1];i[U]=a[C]>>>d}},r.H.M=function(i,n,a){a<<=7&n;const d=n>>>3;i[d]|=a,i[d+1]|=a>>>8},r.H.I=function(i,n,a){a<<=7&n;const d=n>>>3;i[d]|=a,i[d+1]|=a>>>8,i[d+2]|=a>>>16},r.H.e=function(i,n,a){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<a)-1},r.H.b=function(i,n,a){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<a)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=(function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}})(),(function(){const i=r.H.m;for(var n=0;n<32768;n++){let d=n;d=(2863311530&d)>>>1|(1431655765&d)<<1,d=(3435973836&d)>>>2|(858993459&d)<<2,d=(4042322160&d)>>>4|(252645135&d)<<4,d=(4278255360&d)>>>8|(16711935&d)<<8,i.r[n]=(d>>>16|d<<16)>>>17}function a(d,U,C){for(;U--!=0;)d.push(0,C)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];a(i._,144,8),a(i._,112,9),a(i._,24,7),a(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),a(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),a(i.Q,19,0),a(i.C,286,0),a(i.D,30,0),a(i.v,320,0)})(),r.H.N})();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function h(r,i,n,a,d){let U=t(i);const C=Math.ceil(a*U/8);let w,D;U=Math.ceil(U/8);let T=r[n],x=0;if(T>1&&(r[n]=[0,0,1][T-2]),T==3)for(x=U;x<C;x++)r[x+1]=r[x+1]+(r[x+1-U]>>>1)&255;for(let H=0;H<d;H++)if(w=n+H*C,D=w+H+1,T=r[D-1],x=0,T==0)for(;x<C;x++)r[w+x]=r[D+x];else if(T==1){for(;x<U;x++)r[w+x]=r[D+x];for(;x<C;x++)r[w+x]=r[D+x]+r[w+x-U]}else if(T==2)for(;x<C;x++)r[w+x]=r[D+x]+r[w+x-C];else if(T==3){for(;x<U;x++)r[w+x]=r[D+x]+(r[w+x-C]>>>1);for(;x<C;x++)r[w+x]=r[D+x]+(r[w+x-C]+r[w+x-U]>>>1)}else{for(;x<U;x++)r[w+x]=r[D+x]+f(0,r[w+x-C],0);for(;x<C;x++)r[w+x]=r[D+x]+f(r[w+x-U],r[w+x-C],r[w+x-U-C])}return r}function f(r,i,n){const a=r+i-n,d=a-r,U=a-i,C=a-n;return d*d<=U*U&&d*d<=C*C?r:U*U<=C*C?i:n}function g(r,i,n){n.width=_.readUint(r,i),i+=4,n.height=_.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function A(r,i,n,a,d,U,C,w,D){const T=Math.min(i,d),x=Math.min(n,U);let H=0,p=0;for(let F=0;F<x;F++)for(let u=0;u<T;u++)if(C>=0&&w>=0?(H=F*i+u<<2,p=(w+F)*d+C+u<<2):(H=(-w+F)*i-C+u<<2,p=F*d+u<<2),D==0)a[p]=r[H],a[p+1]=r[H+1],a[p+2]=r[H+2],a[p+3]=r[H+3];else if(D==1){var S=r[H+3]*.00392156862745098,l=r[H]*S,s=r[H+1]*S,b=r[H+2]*S,y=a[p+3]*(1/255),m=a[p]*y,M=a[p+1]*y,v=a[p+2]*y;const o=1-S,P=S+y*o,E=P==0?0:1/P;a[p+3]=255*P,a[p+0]=(l+m*o)*E,a[p+1]=(s+M*o)*E,a[p+2]=(b+v*o)*E}else if(D==2)S=r[H+3],l=r[H],s=r[H+1],b=r[H+2],y=a[p+3],m=a[p],M=a[p+1],v=a[p+2],S==y&&l==m&&s==M&&b==v?(a[p]=0,a[p+1]=0,a[p+2]=0,a[p+3]=0):(a[p]=l,a[p+1]=s,a[p+2]=b,a[p+3]=S);else if(D==3){if(S=r[H+3],l=r[H],s=r[H+1],b=r[H+2],y=a[p+3],m=a[p],M=a[p+1],v=a[p+2],S==y&&l==m&&s==M&&b==v)continue;if(S<220&&y>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let a=8;const d=_,U=d.readUshort,C=d.readUint,w={tabs:{},frames:[]},D=new Uint8Array(n.length);let T,x=0,H=0;const p=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(n[S]!=p[S])throw"The input is not a PNG file!";for(;a<n.length;){const F=d.readUint(n,a);a+=4;const u=d.readASCII(n,a,4);if(a+=4,u=="IHDR")g(n,a,w);else if(u=="iCCP"){for(var l=a;n[l]!=0;)l++;d.readASCII(n,a,l-a),n[l+1];const o=n.slice(l+2,a+F);let P=null;try{P=c(o)}catch{P=e(o)}w.tabs[u]=P}else if(u=="CgBI")w.tabs[u]=n.slice(a,a+4);else if(u=="IDAT"){for(S=0;S<F;S++)D[x+S]=n[a+S];x+=F}else if(u=="acTL")w.tabs[u]={num_frames:C(n,a),num_plays:C(n,a+4)},T=new Uint8Array(n.length);else if(u=="fcTL"){H!=0&&((v=w.frames[w.frames.length-1]).data=O(w,T.slice(0,H),v.rect.width,v.rect.height),H=0);const o={x:C(n,a+12),y:C(n,a+16),width:C(n,a+4),height:C(n,a+8)};let P=U(n,a+22);P=U(n,a+20)/(P==0?100:P);const E={rect:o,delay:Math.round(1e3*P),dispose:n[a+24],blend:n[a+25]};w.frames.push(E)}else if(u=="fdAT"){for(S=0;S<F-4;S++)T[H+S]=n[a+S+4];H+=F-4}else if(u=="pHYs")w.tabs[u]=[d.readUint(n,a),d.readUint(n,a+4),n[a+8]];else if(u=="cHRM")for(w.tabs[u]=[],S=0;S<8;S++)w.tabs[u].push(d.readUint(n,a+4*S));else if(u=="tEXt"||u=="zTXt"){w.tabs[u]==null&&(w.tabs[u]={});var s=d.nextZero(n,a),b=d.readASCII(n,a,s-a),y=a+F-s-1;if(u=="tEXt")M=d.readASCII(n,s+1,y);else{var m=c(n.slice(s+2,s+2+y));M=d.readUTF8(m,0,m.length)}w.tabs[u][b]=M}else if(u=="iTXt"){w.tabs[u]==null&&(w.tabs[u]={}),s=0,l=a,s=d.nextZero(n,l),b=d.readASCII(n,l,s-l);const o=n[l=s+1];var M;n[l+1],l+=2,s=d.nextZero(n,l),d.readASCII(n,l,s-l),l=s+1,s=d.nextZero(n,l),d.readUTF8(n,l,s-l),y=F-((l=s+1)-a),o==0?M=d.readUTF8(n,l,y):(m=c(n.slice(l,l+y)),M=d.readUTF8(m,0,m.length)),w.tabs[u][b]=M}else if(u=="PLTE")w.tabs[u]=d.readBytes(n,a,F);else if(u=="hIST"){const o=w.tabs.PLTE.length/3;for(w.tabs[u]=[],S=0;S<o;S++)w.tabs[u].push(U(n,a+2*S))}else if(u=="tRNS")w.ctype==3?w.tabs[u]=d.readBytes(n,a,F):w.ctype==0?w.tabs[u]=U(n,a):w.ctype==2&&(w.tabs[u]=[U(n,a),U(n,a+2),U(n,a+4)]);else if(u=="gAMA")w.tabs[u]=d.readUint(n,a)/1e5;else if(u=="sRGB")w.tabs[u]=n[a];else if(u=="bKGD")w.ctype==0||w.ctype==4?w.tabs[u]=[U(n,a)]:w.ctype==2||w.ctype==6?w.tabs[u]=[U(n,a),U(n,a+2),U(n,a+4)]:w.ctype==3&&(w.tabs[u]=n[a]);else if(u=="IEND")break;a+=F,d.readUint(n,a),a+=4}var v;return H!=0&&((v=w.frames[w.frames.length-1]).data=O(w,T.slice(0,H),v.rect.width,v.rect.height)),w.data=O(w,D,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(i){const n=i.width,a=i.height;if(i.tabs.acTL==null)return[I(i.data,n,a,i).buffer];const d=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const U=n*a*4,C=new Uint8Array(U),w=new Uint8Array(U),D=new Uint8Array(U);for(let x=0;x<i.frames.length;x++){const H=i.frames[x],p=H.rect.x,S=H.rect.y,l=H.rect.width,s=H.rect.height,b=I(H.data,l,s,i);if(x!=0)for(var T=0;T<U;T++)D[T]=C[T];if(H.blend==0?A(b,l,s,C,n,a,p,S,0):H.blend==1&&A(b,l,s,C,n,a,p,S,1),d.push(C.buffer.slice(0)),H.dispose!=0){if(H.dispose==1)A(w,l,s,C,n,a,p,S,0);else if(H.dispose==2)for(T=0;T<U;T++)C[T]=D[T]}}return d},_paeth:f,_copyTile:A,_bin:_}})();(function(){const{_copyTile:_}=he,{_bin:I}=he,O=he._paeth;var c={table:(function(){const l=new Uint32Array(256);for(let s=0;s<256;s++){let b=s;for(let y=0;y<8;y++)1&b?b=3988292384^b>>>1:b>>>=1;l[s]=b}return l})(),update(l,s,b,y){for(let m=0;m<y;m++)l=c.table[255&(l^s[b+m])]^l>>>8;return l},crc:(l,s,b)=>4294967295^c.update(4294967295,l,s,b)};function e(l,s,b,y){s[b]+=l[0]*y>>4,s[b+1]+=l[1]*y>>4,s[b+2]+=l[2]*y>>4,s[b+3]+=l[3]*y>>4}function t(l){return Math.max(0,Math.min(255,l))}function h(l,s){const b=l[0]-s[0],y=l[1]-s[1],m=l[2]-s[2],M=l[3]-s[3];return b*b+y*y+m*m+M*M}function f(l,s,b,y,m,M,v){v==null&&(v=1);const F=y.length,u=[];for(var o=0;o<F;o++){const R=y[o];u.push([R>>>0&255,R>>>8&255,R>>>16&255,R>>>24&255])}for(o=0;o<F;o++){let R=4294967295;for(var P=0,E=0;E<F;E++){var k=h(u[o],u[E]);E!=o&&k<R&&(R=k,P=E)}}const B=new Uint32Array(m.buffer),z=new Int16Array(s*b*4),Q=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<Q.length;o++)Q[o]=255*((Q[o]+.5)/16-.5);for(let R=0;R<b;R++)for(let N=0;N<s;N++){var L;o=4*(R*s+N),v!=2?L=[t(l[o]+z[o]),t(l[o+1]+z[o+1]),t(l[o+2]+z[o+2]),t(l[o+3]+z[o+3])]:(k=Q[4*(3&R)+(3&N)],L=[t(l[o]+k),t(l[o+1]+k),t(l[o+2]+k),t(l[o+3]+k)]),P=0;let K=16777215;for(E=0;E<F;E++){const q=h(L,u[E]);q<K&&(K=q,P=E)}const j=u[P],W=[L[0]-j[0],L[1]-j[1],L[2]-j[2],L[3]-j[3]];v==1&&(N!=s-1&&e(W,z,o+4,7),R!=b-1&&(N!=0&&e(W,z,o+4*s-4,3),e(W,z,o+4*s,5),N!=s-1&&e(W,z,o+4*s+4,1))),M[o>>2]=P,B[o>>2]=y[P]}}function g(l,s,b,y,m){m==null&&(m={});const{crc:M}=c,v=I.writeUint,F=I.writeUshort,u=I.writeASCII;let o=8;const P=l.frames.length>1;let E,k=!1,B=33+(P?20:0);if(m.sRGB!=null&&(B+=13),m.pHYs!=null&&(B+=21),m.iCCP!=null&&(E=pako.deflate(m.iCCP),B+=21+E.length+4),l.ctype==3){for(var z=l.plte.length,Q=0;Q<z;Q++)l.plte[Q]>>>24!=255&&(k=!0);B+=8+3*z+4+(k?8+1*z+4:0)}for(var L=0;L<l.frames.length;L++)P&&(B+=38),B+=(j=l.frames[L]).cimg.length+12,L!=0&&(B+=4);B+=12;const R=new Uint8Array(B),N=[137,80,78,71,13,10,26,10];for(Q=0;Q<8;Q++)R[Q]=N[Q];if(v(R,o,13),o+=4,u(R,o,"IHDR"),o+=4,v(R,o,s),o+=4,v(R,o,b),o+=4,R[o]=l.depth,o++,R[o]=l.ctype,o++,R[o]=0,o++,R[o]=0,o++,R[o]=0,o++,v(R,o,M(R,o-17,17)),o+=4,m.sRGB!=null&&(v(R,o,1),o+=4,u(R,o,"sRGB"),o+=4,R[o]=m.sRGB,o++,v(R,o,M(R,o-5,5)),o+=4),m.iCCP!=null){const W=13+E.length;v(R,o,W),o+=4,u(R,o,"iCCP"),o+=4,u(R,o,"ICC profile"),o+=11,o+=2,R.set(E,o),o+=E.length,v(R,o,M(R,o-(W+4),W+4)),o+=4}if(m.pHYs!=null&&(v(R,o,9),o+=4,u(R,o,"pHYs"),o+=4,v(R,o,m.pHYs[0]),o+=4,v(R,o,m.pHYs[1]),o+=4,R[o]=m.pHYs[2],o++,v(R,o,M(R,o-13,13)),o+=4),P&&(v(R,o,8),o+=4,u(R,o,"acTL"),o+=4,v(R,o,l.frames.length),o+=4,v(R,o,m.loop!=null?m.loop:0),o+=4,v(R,o,M(R,o-12,12)),o+=4),l.ctype==3){for(v(R,o,3*(z=l.plte.length)),o+=4,u(R,o,"PLTE"),o+=4,Q=0;Q<z;Q++){const W=3*Q,q=l.plte[Q],X=255&q,ee=q>>>8&255,me=q>>>16&255;R[o+W+0]=X,R[o+W+1]=ee,R[o+W+2]=me}if(o+=3*z,v(R,o,M(R,o-3*z-4,3*z+4)),o+=4,k){for(v(R,o,z),o+=4,u(R,o,"tRNS"),o+=4,Q=0;Q<z;Q++)R[o+Q]=l.plte[Q]>>>24&255;o+=z,v(R,o,M(R,o-z-4,z+4)),o+=4}}let K=0;for(L=0;L<l.frames.length;L++){var j=l.frames[L];P&&(v(R,o,26),o+=4,u(R,o,"fcTL"),o+=4,v(R,o,K++),o+=4,v(R,o,j.rect.width),o+=4,v(R,o,j.rect.height),o+=4,v(R,o,j.rect.x),o+=4,v(R,o,j.rect.y),o+=4,F(R,o,y[L]),o+=2,F(R,o,1e3),o+=2,R[o]=j.dispose,o++,R[o]=j.blend,o++,v(R,o,M(R,o-30,30)),o+=4);const W=j.cimg;v(R,o,(z=W.length)+(L==0?0:4)),o+=4;const q=o;u(R,o,L==0?"IDAT":"fdAT"),o+=4,L!=0&&(v(R,o,K++),o+=4),R.set(W,o),o+=z,v(R,o,M(R,q,o-q)),o+=4}return v(R,o,0),o+=4,u(R,o,"IEND"),o+=4,v(R,o,M(R,o-4,4)),o+=4,R.buffer}function A(l,s,b){for(let y=0;y<l.frames.length;y++){const m=l.frames[y];m.rect.width;const M=m.rect.height,v=new Uint8Array(M*m.bpl+M);m.cimg=a(m.img,M,m.bpp,m.bpl,v,s,b)}}function r(l,s,b,y,m){const M=m[0],v=m[1],F=m[2],u=m[3],o=m[4],P=m[5];let E=6,k=8,B=255;for(var z=0;z<l.length;z++){const ne=new Uint8Array(l[z]);for(var Q=ne.length,L=0;L<Q;L+=4)B&=ne[L+3]}const R=B!=255,N=(function(Z,G,te,ie,Y,se){const J=[];for(var $=0;$<Z.length;$++){const oe=new Uint8Array(Z[$]),ue=new Uint32Array(oe.buffer);var le;let ce=0,ve=0,ge=G,Ue=te,Le=ie?1:0;if($!=0){const st=se||ie||$==1||J[$-2].dispose!=0?1:2;let ze=0,$e=1e9;for(let Ce=0;Ce<st;Ce++){var be=new Uint8Array(Z[$-1-Ce]);const lt=new Uint32Array(Z[$-1-Ce]);let Ae=G,we=te,_e=-1,xe=-1;for(let Me=0;Me<te;Me++)for(let Ee=0;Ee<G;Ee++)ue[re=Me*G+Ee]!=lt[re]&&(Ee<Ae&&(Ae=Ee),Ee>_e&&(_e=Ee),Me<we&&(we=Me),Me>xe&&(xe=Me));_e==-1&&(Ae=we=_e=xe=0),Y&&((1&Ae)==1&&Ae--,(1&we)==1&&we--);const Ke=(_e-Ae+1)*(xe-we+1);Ke<$e&&($e=Ke,ze=Ce,ce=Ae,ve=we,ge=_e-Ae+1,Ue=xe-we+1)}be=new Uint8Array(Z[$-1-ze]),ze==1&&(J[$-1].dispose=2),le=new Uint8Array(ge*Ue*4),_(be,G,te,le,ge,Ue,-ce,-ve,0),Le=_(oe,G,te,le,ge,Ue,-ce,-ve,3)?1:0,Le==1?n(oe,G,te,le,{x:ce,y:ve,width:ge,height:Ue}):_(oe,G,te,le,ge,Ue,-ce,-ve,0)}else le=oe.slice(0);J.push({rect:{x:ce,y:ve,width:ge,height:Ue},img:le,blend:Le,dispose:0})}if(ie)for($=0;$<J.length;$++){if((ye=J[$]).blend==1)continue;const oe=ye.rect,ue=J[$-1].rect,ce=Math.min(oe.x,ue.x),ve=Math.min(oe.y,ue.y),ge={x:ce,y:ve,width:Math.max(oe.x+oe.width,ue.x+ue.width)-ce,height:Math.max(oe.y+oe.height,ue.y+ue.height)-ve};J[$-1].dispose=1,$-1!=0&&i(Z,G,te,J,$-1,ge,Y),i(Z,G,te,J,$,ge,Y)}let Se=0;if(Z.length!=1)for(var re=0;re<J.length;re++){var ye;Se+=(ye=J[re]).rect.width*ye.rect.height}return J})(l,s,b,M,v,F),K={},j=[],W=[];if(y!=0){const ne=[];for(L=0;L<N.length;L++)ne.push(N[L].img.buffer);const Z=(function(Y){let se=0;for(var J=0;J<Y.length;J++)se+=Y[J].byteLength;const $=new Uint8Array(se);let le=0;for(J=0;J<Y.length;J++){const be=new Uint8Array(Y[J]),Se=be.length;for(let re=0;re<Se;re+=4){let ye=be[re],oe=be[re+1],ue=be[re+2];const ce=be[re+3];ce==0&&(ye=oe=ue=0),$[le+re]=ye,$[le+re+1]=oe,$[le+re+2]=ue,$[le+re+3]=ce}le+=Se}return $.buffer})(ne),G=U(Z,y);for(L=0;L<G.plte.length;L++)j.push(G.plte[L].est.rgba);let te=0;for(L=0;L<N.length;L++){const ie=(X=N[L]).img.length;var q=new Uint8Array(G.inds.buffer,te>>2,ie>>2);W.push(q);const Y=new Uint8Array(G.abuf,te,ie);P&&f(X.img,X.rect.width,X.rect.height,j,Y,q),X.img.set(Y),te+=ie}}else for(z=0;z<N.length;z++){var X=N[z];const ne=new Uint32Array(X.img.buffer);var ee=X.rect.width;for(Q=ne.length,q=new Uint8Array(Q),W.push(q),L=0;L<Q;L++){const Z=ne[L];if(L!=0&&Z==ne[L-1])q[L]=q[L-1];else if(L>ee&&Z==ne[L-ee])q[L]=q[L-ee];else{let G=K[Z];if(G==null&&(K[Z]=G=j.length,j.push(Z),j.length>=300))break;q[L]=G}}}const me=j.length;for(me<=256&&o==0&&(k=me<=2?1:me<=4?2:me<=16?4:8,k=Math.max(k,u)),z=0;z<N.length;z++){(X=N[z]).rect.x,X.rect.y,ee=X.rect.width;const ne=X.rect.height;let Z=X.img;new Uint32Array(Z.buffer);let G=4*ee,te=4;if(me<=256&&o==0){G=Math.ceil(k*ee/8);var de=new Uint8Array(G*ne);const ie=W[z];for(let Y=0;Y<ne;Y++){L=Y*G;const se=Y*ee;if(k==8)for(var V=0;V<ee;V++)de[L+V]=ie[se+V];else if(k==4)for(V=0;V<ee;V++)de[L+(V>>1)]|=ie[se+V]<<4-4*(1&V);else if(k==2)for(V=0;V<ee;V++)de[L+(V>>2)]|=ie[se+V]<<6-2*(3&V);else if(k==1)for(V=0;V<ee;V++)de[L+(V>>3)]|=ie[se+V]<<7-1*(7&V)}Z=de,E=3,te=1}else if(R==0&&N.length==1){de=new Uint8Array(ee*ne*3);const ie=ee*ne;for(L=0;L<ie;L++){const Y=3*L,se=4*L;de[Y]=Z[se],de[Y+1]=Z[se+1],de[Y+2]=Z[se+2]}Z=de,E=2,te=3,G=3*ee}X.img=Z,X.bpl=G,X.bpp=te}return{ctype:E,depth:k,plte:j,frames:N}}function i(l,s,b,y,m,M,v){const F=Uint8Array,u=Uint32Array,o=new F(l[m-1]),P=new u(l[m-1]),E=m+1<l.length?new F(l[m+1]):null,k=new F(l[m]),B=new u(k.buffer);let z=s,Q=b,L=-1,R=-1;for(let K=0;K<M.height;K++)for(let j=0;j<M.width;j++){const W=M.x+j,q=M.y+K,X=q*s+W,ee=B[X];ee==0||y[m-1].dispose==0&&P[X]==ee&&(E==null||E[4*X+3]!=0)||(W<z&&(z=W),W>L&&(L=W),q<Q&&(Q=q),q>R&&(R=q))}L==-1&&(z=Q=L=R=0),v&&((1&z)==1&&z--,(1&Q)==1&&Q--),M={x:z,y:Q,width:L-z+1,height:R-Q+1};const N=y[m];N.rect=M,N.blend=1,N.img=new Uint8Array(M.width*M.height*4),y[m-1].dispose==0?(_(o,s,b,N.img,M.width,M.height,-M.x,-M.y,0),n(k,s,b,N.img,M)):_(k,s,b,N.img,M.width,M.height,-M.x,-M.y,0)}function n(l,s,b,y,m){_(l,s,b,y,m.width,m.height,-m.x,-m.y,2)}function a(l,s,b,y,m,M,v){const F=[];let u,o=[0,1,2,3,4];M!=-1?o=[M]:(s*y>5e5||b==1)&&(o=[0]),v&&(u={level:0});const P=dt;for(var E=0;E<o.length;E++){for(let z=0;z<s;z++)d(m,l,z,y,b,o[E]);F.push(P.deflate(m,u))}let k,B=1e9;for(E=0;E<F.length;E++)F[E].length<B&&(k=E,B=F[E].length);return F[k]}function d(l,s,b,y,m,M){const v=b*y;let F=v+b;if(l[F]=M,F++,M==0)if(y<500)for(var u=0;u<y;u++)l[F+u]=s[v+u];else l.set(new Uint8Array(s.buffer,v,y),F);else if(M==1){for(u=0;u<m;u++)l[F+u]=s[v+u];for(u=m;u<y;u++)l[F+u]=s[v+u]-s[v+u-m]+256&255}else if(b==0){for(u=0;u<m;u++)l[F+u]=s[v+u];if(M==2)for(u=m;u<y;u++)l[F+u]=s[v+u];if(M==3)for(u=m;u<y;u++)l[F+u]=s[v+u]-(s[v+u-m]>>1)+256&255;if(M==4)for(u=m;u<y;u++)l[F+u]=s[v+u]-O(s[v+u-m],0,0)+256&255}else{if(M==2)for(u=0;u<y;u++)l[F+u]=s[v+u]+256-s[v+u-y]&255;if(M==3){for(u=0;u<m;u++)l[F+u]=s[v+u]+256-(s[v+u-y]>>1)&255;for(u=m;u<y;u++)l[F+u]=s[v+u]+256-(s[v+u-y]+s[v+u-m]>>1)&255}if(M==4){for(u=0;u<m;u++)l[F+u]=s[v+u]+256-O(0,s[v+u-y],0)&255;for(u=m;u<y;u++)l[F+u]=s[v+u]+256-O(s[v+u-m],s[v+u-y],s[v+u-m-y])&255}}}function U(l,s){const b=new Uint8Array(l),y=b.slice(0),m=new Uint32Array(y.buffer),M=C(y,s),v=M[0],F=M[1],u=b.length,o=new Uint8Array(u>>2);let P;if(b.length<2e7)for(var E=0;E<u;E+=4)P=w(v,k=b[E]*(1/255),B=b[E+1]*(1/255),z=b[E+2]*(1/255),Q=b[E+3]*(1/255)),o[E>>2]=P.ind,m[E>>2]=P.est.rgba;else for(E=0;E<u;E+=4){var k=b[E]*.00392156862745098,B=b[E+1]*(1/255),z=b[E+2]*(1/255),Q=b[E+3]*(1/255);for(P=v;P.left;)P=D(P.est,k,B,z,Q)<=0?P.left:P.right;o[E>>2]=P.ind,m[E>>2]=P.est.rgba}return{abuf:y.buffer,inds:o,plte:F}}function C(l,s,b){b==null&&(b=1e-4);const y=new Uint32Array(l.buffer),m={i0:0,i1:l.length,bst:null,est:null,tdst:0,left:null,right:null};m.bst=H(l,m.i0,m.i1),m.est=p(m.bst);const M=[m];for(;M.length<s;){let F=0,u=0;for(var v=0;v<M.length;v++)M[v].est.L>F&&(F=M[v].est.L,u=v);if(F<b)break;const o=M[u],P=T(l,y,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=P||o.i1<=P){o.est.L=0;continue}const E={i0:o.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};E.bst=H(l,E.i0,E.i1),E.est=p(E.bst);const k={i0:P,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(k.bst={R:[],m:[],N:o.bst.N-E.bst.N},v=0;v<16;v++)k.bst.R[v]=o.bst.R[v]-E.bst.R[v];for(v=0;v<4;v++)k.bst.m[v]=o.bst.m[v]-E.bst.m[v];k.est=p(k.bst),o.left=E,o.right=k,M[u]=E,M.push(k)}for(M.sort(((F,u)=>u.bst.N-F.bst.N)),v=0;v<M.length;v++)M[v].ind=v;return[m,M]}function w(l,s,b,y,m){if(l.left==null)return l.tdst=(function(E,k,B,z,Q){const L=k-E[0],R=B-E[1],N=z-E[2],K=Q-E[3];return L*L+R*R+N*N+K*K})(l.est.q,s,b,y,m),l;const M=D(l.est,s,b,y,m);let v=l.left,F=l.right;M>0&&(v=l.right,F=l.left);const u=w(v,s,b,y,m);if(u.tdst<=M*M)return u;const o=w(F,s,b,y,m);return o.tdst<u.tdst?o:u}function D(l,s,b,y,m){const{e:M}=l;return M[0]*s+M[1]*b+M[2]*y+M[3]*m-l.eMq}function T(l,s,b,y,m,M){for(y-=4;b<y;){for(;x(l,b,m)<=M;)b+=4;for(;x(l,y,m)>M;)y-=4;if(b>=y)break;const v=s[b>>2];s[b>>2]=s[y>>2],s[y>>2]=v,b+=4,y-=4}for(;x(l,b,m)>M;)b-=4;return b+4}function x(l,s,b){return l[s]*b[0]+l[s+1]*b[1]+l[s+2]*b[2]+l[s+3]*b[3]}function H(l,s,b){const y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=[0,0,0,0],M=b-s>>2;for(let v=s;v<b;v+=4){const F=l[v]*.00392156862745098,u=l[v+1]*(1/255),o=l[v+2]*(1/255),P=l[v+3]*(1/255);m[0]+=F,m[1]+=u,m[2]+=o,m[3]+=P,y[0]+=F*F,y[1]+=F*u,y[2]+=F*o,y[3]+=F*P,y[5]+=u*u,y[6]+=u*o,y[7]+=u*P,y[10]+=o*o,y[11]+=o*P,y[15]+=P*P}return y[4]=y[1],y[8]=y[2],y[9]=y[6],y[12]=y[3],y[13]=y[7],y[14]=y[11],{R:y,m,N:M}}function p(l){const{R:s}=l,{m:b}=l,{N:y}=l,m=b[0],M=b[1],v=b[2],F=b[3],u=y==0?0:1/y,o=[s[0]-m*m*u,s[1]-m*M*u,s[2]-m*v*u,s[3]-m*F*u,s[4]-M*m*u,s[5]-M*M*u,s[6]-M*v*u,s[7]-M*F*u,s[8]-v*m*u,s[9]-v*M*u,s[10]-v*v*u,s[11]-v*F*u,s[12]-F*m*u,s[13]-F*M*u,s[14]-F*v*u,s[15]-F*F*u],P=o,E=S;let k=[Math.random(),Math.random(),Math.random(),Math.random()],B=0,z=0;if(y!=0)for(let L=0;L<16&&(k=E.multVec(P,k),z=Math.sqrt(E.dot(k,k)),k=E.sml(1/z,k),!(L!=0&&Math.abs(z-B)<1e-9));L++)B=z;const Q=[m*u,M*u,v*u,F*u];return{Cov:o,q:Q,e:k,L:B,eMq255:E.dot(E.sml(255,Q),k),eMq:E.dot(k,Q),rgba:(Math.round(255*Q[3])<<24|Math.round(255*Q[2])<<16|Math.round(255*Q[1])<<8|Math.round(255*Q[0])<<0)>>>0}}var S={multVec:(l,s)=>[l[0]*s[0]+l[1]*s[1]+l[2]*s[2]+l[3]*s[3],l[4]*s[0]+l[5]*s[1]+l[6]*s[2]+l[7]*s[3],l[8]*s[0]+l[9]*s[1]+l[10]*s[2]+l[11]*s[3],l[12]*s[0]+l[13]*s[1]+l[14]*s[2]+l[15]*s[3]],dot:(l,s)=>l[0]*s[0]+l[1]*s[1]+l[2]*s[2]+l[3]*s[3],sml:(l,s)=>[l*s[0],l*s[1],l*s[2],l*s[3]]};he.encode=function(s,b,y,m,M,v,F){m==null&&(m=0),F==null&&(F=!1);const u=r(s,b,y,m,[!1,!1,!1,0,F,!1]);return A(u,-1),g(u,b,y,M,v)},he.encodeLL=function(s,b,y,m,M,v,F,u){const o={ctype:0+(m==1?0:2)+(M==0?0:4),depth:v,frames:[]},P=(m+M)*v,E=P*b;for(let k=0;k<s.length;k++)o.frames.push({rect:{x:0,y:0,width:b,height:y},img:new Uint8Array(s[k]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(E/8)});return A(o,0,!0),g(o,b,y,F,u)},he.encode.compress=r,he.encode.dither=f,he.quantize=U,he.quantize.getKDtree=C,he.quantize.getNearest=w})();const Ye={toArrayBuffer(_,I){const O=_.width,c=_.height,e=O<<2,t=_.getContext("2d").getImageData(0,0,O,c),h=new Uint32Array(t.data.buffer),f=(32*O+31)/32<<2,g=f*c,A=122+g,r=new ArrayBuffer(A),i=new DataView(r),n=1<<20;let a,d,U,C,w=n,D=0,T=0,x=0;function H(l){i.setUint16(T,l,!0),T+=2}function p(l){i.setUint32(T,l,!0),T+=4}function S(l){T+=l}H(19778),p(A),S(4),p(122),p(108),p(O),p(-c>>>0),H(1),H(32),p(3),p(g),p(2835),p(2835),S(8),p(16711680),p(65280),p(255),p(4278190080),p(1466527264),(function l(){for(;D<c&&w>0;){for(C=122+D*f,a=0;a<e;)w--,d=h[x++],U=d>>>24,i.setUint32(C+a,d<<8|U),a+=4;D++}x<h.length?(w=n,setTimeout(l,Ye._dly)):I(r)})()},toBlob(_,I){this.toArrayBuffer(_,(O=>{I(new Blob([O],{type:"image/bmp"}))}))},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},gt={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const qe=typeof window<"u",Je=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Oe=qe&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),pt=(qe||Je)&&(Oe&&Oe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),et=(qe||Je)&&(Oe&&Oe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ge(_,I,O=Date.now()){return new Promise((c=>{const e=_.split(","),t=e[0].match(/:(.*?);/)[1],h=globalThis.atob(e[1]);let f=h.length;const g=new Uint8Array(f);for(;f--;)g[f]=h.charCodeAt(f);const A=new Blob([g],{type:t});A.name=I,A.lastModified=O,c(A)}))}function tt(_){return new Promise(((I,O)=>{const c=new et;c.onload=()=>I(c.result),c.onerror=e=>O(e),c.readAsDataURL(_)}))}function nt(_){return new Promise(((I,O)=>{const c=new Image;c.onload=()=>I(c),c.onerror=e=>O(e),c.src=_}))}function Fe(){if(Fe.cachedResult!==void 0)return Fe.cachedResult;let _=fe.ETC;const{userAgent:I}=navigator;return/Chrom(e|ium)/i.test(I)?_=fe.CHROME:/iP(ad|od|hone)/i.test(I)&&/WebKit/i.test(I)?_=fe.IOS:/Safari/i.test(I)?_=fe.DESKTOP_SAFARI:/Firefox/i.test(I)?_=fe.FIREFOX:(/MSIE/i.test(I)||document.documentMode)&&(_=fe.IE),Fe.cachedResult=_,Fe.cachedResult}function rt(_,I){const O=Fe(),c=gt[O];let e=_,t=I,h=e*t;const f=e>t?t/e:e/t;for(;h>c*c;){const g=(c+e)/2,A=(c+t)/2;g<A?(t=A,e=A*f):(t=g*f,e=g),h=e*t}return{width:e,height:t}}function De(_,I){let O,c;try{if(O=new OffscreenCanvas(_,I),c=O.getContext("2d"),c===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{O=document.createElement("canvas"),c=O.getContext("2d")}return O.width=_,O.height=I,[O,c]}function it(_,I){const{width:O,height:c}=rt(_.width,_.height),[e,t]=De(O,c);return I&&/jpe?g/.test(I)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(_,0,0,e.width,e.height),e}function Te(){return Te.cachedResult!==void 0||(Te.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Te.cachedResult}function ke(_,I={}){return new Promise((function(O,c){let e,t;var h=function(){try{return t=it(e,I.fileType||_.type),O([e,t])}catch(g){return c(g)}},f=function(g){try{var A=function(r){try{throw r}catch(i){return c(i)}};try{let r;return tt(_).then((function(i){try{return r=i,nt(r).then((function(n){try{return e=n,(function(){try{return h()}catch(a){return c(a)}})()}catch(a){return A(a)}}),A)}catch(n){return A(n)}}),A)}catch(r){A(r)}}catch(r){return c(r)}};try{if(Te()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(Fe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(_).then((function(g){try{return e=g,h()}catch{return f()}}),f)}catch{f()}}))}function He(_,I,O,c,e=1){return new Promise((function(t,h){let f;if(I==="image/png"){let A,r,i;return A=_.getContext("2d"),{data:r}=A.getImageData(0,0,_.width,_.height),i=he.encode([r.buffer],_.width,_.height,4096*e),f=new Blob([i],{type:I}),f.name=O,f.lastModified=c,g.call(this)}{let A=function(){return g.call(this)};if(I==="image/bmp")return new Promise((r=>Ye.toBlob(_,r))).then((function(r){try{return f=r,f.name=O,f.lastModified=c,A.call(this)}catch(i){return h(i)}}).bind(this),h);{let r=function(){return A.call(this)};if(typeof OffscreenCanvas=="function"&&_ instanceof OffscreenCanvas)return _.convertToBlob({type:I,quality:e}).then((function(i){try{return f=i,f.name=O,f.lastModified=c,r.call(this)}catch(n){return h(n)}}).bind(this),h);{let i;return i=_.toDataURL(I,e),Ge(i,O,c).then((function(n){try{return f=n,r.call(this)}catch(a){return h(a)}}).bind(this),h)}}}function g(){return t(f)}}))}function pe(_){_.width=0,_.height=0}function Ie(){return new Promise((function(_,I){let O,c,e,t;return Ie.cachedResult!==void 0?_(Ie.cachedResult):Ge("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(h){try{return O=h,ke(O).then((function(f){try{return c=f[1],He(c,O.type,O.name,O.lastModified).then((function(g){try{return e=g,pe(c),ke(e).then((function(A){try{return t=A[0],Ie.cachedResult=t.width===1&&t.height===2,_(Ie.cachedResult)}catch(r){return I(r)}}),I)}catch(A){return I(A)}}),I)}catch(g){return I(g)}}),I)}catch(f){return I(f)}}),I)}))}function ot(_){return new Promise(((I,O)=>{const c=new et;c.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return I(-2);const h=t.byteLength;let f=2;for(;f<h;){if(t.getUint16(f+2,!1)<=8)return I(-1);const g=t.getUint16(f,!1);if(f+=2,g==65505){if(t.getUint32(f+=2,!1)!=1165519206)return I(-1);const A=t.getUint16(f+=6,!1)==18761;f+=t.getUint32(f+4,A);const r=t.getUint16(f,A);f+=2;for(let i=0;i<r;i++)if(t.getUint16(f+12*i,A)==274)return I(t.getUint16(f+12*i+8,A))}else{if((65280&g)!=65280)break;f+=t.getUint16(f,!1)}}return I(-1)},c.onerror=e=>O(e),c.readAsArrayBuffer(_)}))}function at(_,I){const{width:O}=_,{height:c}=_,{maxWidthOrHeight:e}=I;let t,h=_;return isFinite(e)&&(O>e||c>e)&&([h,t]=De(O,c),O>c?(h.width=e,h.height=c/O*e):(h.width=O/c*e,h.height=e),t.drawImage(_,0,0,h.width,h.height),pe(_)),h}function ft(_,I){const{width:O}=_,{height:c}=_,[e,t]=De(O,c);switch(I>4&&I<9?(e.width=c,e.height=O):(e.width=O,e.height=c),I){case 2:t.transform(-1,0,0,1,O,0);break;case 3:t.transform(-1,0,0,-1,O,c);break;case 4:t.transform(1,0,0,-1,0,c);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,c,0);break;case 7:t.transform(0,-1,-1,0,c,O);break;case 8:t.transform(0,-1,1,0,0,O)}return t.drawImage(_,0,0,O,c),pe(_),e}function Ze(_,I,O=0){return new Promise((function(c,e){let t,h,f,g,A,r,i,n,a,d,U,C,w,D,T,x,H,p,S,l;function s(y=5){if(I.signal&&I.signal.aborted)throw I.signal.reason;t+=y,I.onProgress(Math.min(t,100))}function b(y){if(I.signal&&I.signal.aborted)throw I.signal.reason;t=Math.min(Math.max(y,t),100),I.onProgress(t)}return t=O,h=I.maxIteration||10,f=1024*I.maxSizeMB*1024,s(),ke(_,I).then((function(y){try{return[,g]=y,s(),A=at(g,I),s(),new Promise((function(m,M){var v;if(!(v=I.exifOrientation))return ot(_).then((function(u){try{return v=u,F.call(this)}catch(o){return M(o)}}).bind(this),M);function F(){return m(v)}return F.call(this)})).then((function(m){try{return r=m,s(),Ie().then((function(M){try{return i=M?A:ft(A,r),s(),n=I.initialQuality||1,a=I.fileType||_.type,He(i,a,_.name,_.lastModified,n).then((function(v){try{{let u=function(){if(h--&&(T>f||T>w)){let P,E;return P=l?.95*S.width:S.width,E=l?.95*S.height:S.height,[H,p]=De(P,E),p.drawImage(S,0,0,P,E),n*=a==="image/png"?.85:.95,He(H,a,_.name,_.lastModified,n).then((function(k){try{return x=k,pe(S),S=H,T=x.size,b(Math.min(99,Math.floor((D-T)/(D-f)*100))),u}catch(B){return e(B)}}),e)}return[1]},o=function(){return pe(S),pe(H),pe(A),pe(i),pe(g),b(100),c(x)};if(d=v,s(),U=d.size>f,C=d.size>_.size,!U&&!C)return b(100),c(d);var F;return w=_.size,D=d.size,T=D,S=i,l=!I.alwaysKeepResolution&&U,(F=(function(P){for(;P;){if(P.then)return void P.then(F,e);try{if(P.pop){if(P.length)return P.pop()?o.call(this):P;P=u}else P=P.call(this)}catch(E){return e(E)}}}).bind(this))(u)}}catch(u){return e(u)}}).bind(this),e)}catch(v){return e(v)}}).bind(this),e)}catch(M){return e(M)}}).bind(this),e)}catch(m){return e(m)}}).bind(this),e)}))}const vt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Qe;function bt(_,I){return new Promise(((O,c)=>{Qe||(Qe=(function(h){const f=[];return f.push(h),URL.createObjectURL(new Blob(f))})(vt));const e=new Worker(Qe);e.addEventListener("message",(function(h){if(I.signal&&I.signal.aborted)e.terminate();else if(h.data.progress===void 0){if(h.data.error)return c(new Error(h.data.error)),void e.terminate();O(h.data.file),e.terminate()}else I.onProgress(h.data.progress)})),e.addEventListener("error",c),I.signal&&I.signal.addEventListener("abort",(()=>{c(I.signal.reason),e.terminate()})),e.postMessage({file:_,imageCompressionLibUrl:I.libURL,options:{...I,onProgress:void 0,signal:void 0}})}))}function ae(_,I){return new Promise((function(O,c){let e,t,h,f,g,A;if(e={...I},h=0,{onProgress:f}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=a=>{h=a,typeof f=="function"&&f(h)},!(_ instanceof Blob||_ instanceof pt))return c(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(_.type))return c(new Error("The file given is not an image"));if(A=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||A)return Ze(_,e).then((function(a){try{return t=a,n.call(this)}catch(d){return c(d)}}).bind(this),c);var r=(function(){try{return n.call(this)}catch(a){return c(a)}}).bind(this),i=function(a){try{return Ze(_,e).then((function(d){try{return t=d,r()}catch(U){return c(U)}}),c)}catch(d){return c(d)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",bt(_,e).then((function(a){try{return t=a,r()}catch{return i()}}),i)}catch{i()}function n(){try{t.name=_.name,t.lastModified=_.lastModified}catch{}try{e.preserveExif&&_.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===_.type)&&(t=Xe(_,t))}catch{}return O(t)}}))}ae.getDataUrlFromFile=tt,ae.getFilefromDataUrl=Ge,ae.loadImage=nt,ae.drawImageInCanvas=it,ae.drawFileInCanvas=ke,ae.canvasToFile=He,ae.getExifOrientation=ot,ae.handleMaxWidthOrHeight=at,ae.followExifOrientation=ft,ae.cleanupCanvasMemory=pe,ae.isAutoOrientationInBrowser=Ie,ae.approximateBelowMaximumCanvasSizeOfBrowser=rt,ae.copyExifWithoutOrientation=Xe,ae.getBrowserName=Fe,ae.version="2.0.2";var At=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Re=(_,I)=>{var O="";for(let c=1;c<=I;c++){let e=Math.floor(_)/Math.pow(83,I-c)%83;O+=At[Math.floor(e)]}return O},Be=_=>{let I=_/255;return I<=.04045?I/12.92:Math.pow((I+.055)/1.055,2.4)},Ne=_=>{let I=Math.max(0,Math.min(1,_));return I<=.0031308?Math.trunc(I*12.92*255+.5):Math.trunc((1.055*Math.pow(I,.4166666666666667)-.055)*255+.5)},wt=_=>_<0?-1:1,We=(_,I)=>wt(_)*Math.pow(Math.abs(_),I),je=class extends Error{constructor(_){super(_),this.name="ValidationError",this.message=_}},Ve=4,mt=(_,I,O,c)=>{let e=0,t=0,h=0,f=I*Ve;for(let A=0;A<I;A++){let r=Ve*A;for(let i=0;i<O;i++){let n=r+i*f,a=c(A,i);e+=a*Be(_[n]),t+=a*Be(_[n+1]),h+=a*Be(_[n+2])}}let g=1/(I*O);return[e*g,t*g,h*g]},yt=_=>{let I=Ne(_[0]),O=Ne(_[1]),c=Ne(_[2]);return(I<<16)+(O<<8)+c},Ut=(_,I)=>{let O=Math.floor(Math.max(0,Math.min(18,Math.floor(We(_[0]/I,.5)*9+9.5)))),c=Math.floor(Math.max(0,Math.min(18,Math.floor(We(_[1]/I,.5)*9+9.5)))),e=Math.floor(Math.max(0,Math.min(18,Math.floor(We(_[2]/I,.5)*9+9.5))));return O*19*19+c*19+e},Mt=(_,I,O,c,e)=>{if(c<1||c>9||e<1||e>9)throw new je("BlurHash must have between 1 and 9 components");if(I*O*4!==_.length)throw new je("Width and height must match the pixels array");let t=[];for(let i=0;i<e;i++)for(let n=0;n<c;n++){let a=n==0&&i==0?1:2,d=mt(_,I,O,(U,C)=>a*Math.cos(Math.PI*n*U/I)*Math.cos(Math.PI*i*C/O));t.push(d)}let h=t[0],f=t.slice(1),g="",A=c-1+(e-1)*9;g+=Re(A,1);let r;if(f.length>0){let i=Math.max(...f.map(a=>Math.max(...a))),n=Math.floor(Math.max(0,Math.min(82,Math.floor(i*166-.5))));r=(n+1)/166,g+=Re(n,1)}else r=1,g+=Re(0,1);return g+=Re(yt(h),4),f.forEach(i=>{g+=Re(Ut(i,r),2)}),g},Et=Mt;const Ft=Object.freeze(Object.defineProperty({__proto__:null,ValidationError:je,encode:Et},Symbol.toStringTag,{value:"Module"}));export{Ft as a,ae as i};
